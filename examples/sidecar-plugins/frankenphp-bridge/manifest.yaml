name: frankenphp-bridge
version: 1.0.0
type: sidecar
binary: ./frankenphp-bridge  # CGO_ENABLED=1 go build -o frankenphp-bridge .

sidecar:
  protocol: json-rpc
  auto_start: true
  keep_alive: true
  max_retries: 3
  
  # Environment Variables
  env:
    # Aktifkan Worker Mode untuk performa tinggi (Laravel Octane style)
    # FRANKENPHP_CONFIG: "worker ./app/laravel_octane.php"
    # Atau biarkan kosong untuk mode CLI biasa (One-Shot)
    FRANKENPHP_CONFIG: ""

permissions:
  filesystem:
    - ./app
    - ./public
    - ./vendor
  network:
    - "*"
  scope:
    - read
    - write
