<script>
export default {
    data() {
        return { title: 'Dashboard' };
    },
    methods: {
        logout() {
            this.$store.dispatch('login', 'Guest'); // clear user
            this.$router.push('/login');
        }
    }
}
</script>

<template>
    <div class="page">
        <h1>{{ title }}</h1>
        <p>Welcome, {{ auth.user().name }}!</p>

        @auth
            <p style="color:green">You are authenticated.</p>
        @endauth

        <x-card title="Secret Data">
            <p>This content is protected by Route Guards.</p>
        </x-card>

        <button @click="logout">Logout</button>
    </div>
</template>
